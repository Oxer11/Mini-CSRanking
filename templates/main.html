{% extends "base.html" %}
{% load index %}

{% block mainbody %}
	{% if type %}
	<div class="container-fluid search_r">
		{% ifequal type "scholar" %}
			{%for sch in out_lst %}
				<div>
					<h2><a href="/scholar/?name={{ sch.name|urlencode }}" class="sch_name">{{sch.name}}</a></h2>
					<p><a href="/institution/?name={{sch.affiliation.name|urlencode}}" class="sch_aff">{{sch.affiliation}}</a></p>
					<p><a href="{{ sch.homepage }}" class="sch_url">Homepage</a></p>
					<p class="enum"><a href="{{sch.DBLP}}">DBLP</a><a href="{{sch.GoogleScholar}}">Google Scholar</a></p>
					<p>Number of Publications: {{sch.pub_cnt}} </p>
				</div>
			{% empty %}
				<div><h2>No scholars found.</h2></div>
			{% endfor %}
		{% endifequal %}
		{% ifequal type "paper" %}
			{% for p in out_lst %}
				<div>
					<p class="pub_year"><a href="/conference/?name={{p.conf_id.abbr|urlencode}}&year={{p.year|urlencode}}">{{p.conf_id.abbr}} {{p.year}}</a></p>
					<h3><a href="{{p.href}}">{{p.title}}</a></h3>
					<p class="enum">
					{% for sch in author_lst|index:forloop.counter0 %}
						<a href="/scholar/?name={{ sch.name|urlencode }}">{{sch.name}}</a>
					{% empty %}
						None
					{% endfor %}
					</p>
				</div>
			{% empty %}
				<div><h2>No papers found.</h2></div>
			{% endfor %}
		{% endifequal %}
		{% ifequal type "institution" %}
			{% for ins in out_lst %}
				<div>
					<h2><a href="/institution/?name={{ins.name|urlencode}}">{{ins.name}}</a></h2>
					<p><a href="{{ins.homepage}}">Homepage</a></p>
					<p>Number of Publications: {{ins.pub_cnt}}</p>
				</div>
			{% empty %}
				<div><h2>No institutions found.</h2></div>	
			{% endfor %}
		{% endifequal %}
		{% ifequal type "conference" %}
			{% for conf in out_lst %}
				<div>
					<h2><a href="/conference/?name={{conf.abbr|urlencode}}&year={{conf.year|urlencode}}">{{conf.abbr}} {{conf.year}}</a></h2>
					<p>{{conf.name}}</p>
					<p class="enum"><a href="{{conf.Href}}">Homepage</a><a href="{{conf.DBLP}}">DBLP</a></p>
				</div>
			{% empty %}
				<div><h2>No conferences found.</h2></div>	
			{% endfor %}
		{% endifequal %}
		{% ifequal type "area" %}
			{% for a in out_lst %}
				<div>
					<h2><a href="/area/?name={{a.name|urlencode}}">{{a.name}}</a></h2>
					<p>Direction: {{a.direction}}<p>
				</div>
			{% empty %}
				<div><h2>No areas found.</h2></div>
			{% endfor %}
		{% endifequal %}
	<!-- Start Pagination -->
		<ul class="pagination">
			{% if out_lst.has_previous %}
				<li><a href="/main/?type={{ type }}&key={{ key }}&page={{ ins_lst.previous_page_number }}">&lt;</a></li>
			{% else %}
				<li><a href="#0">&lt;</a></li>
			{% endif %}
  			{% for page_number in page_range %}
    			{% ifequal page_number  out_lst.number %}
					<li><a class="active" href="#remark">{{ page_number }}</a></li>
    			{% else %}
					<li><a href="/main/?type={{ type }}&key={{ key }}&page={{ page_number }}">{{ page_number }}</a></li>
    			{% endifequal %}
  			{% endfor %}
			{% if out_lst.has_next %}
				<li><a href="/main/?type={{ type }}&key={{ key }}&page={{ ins_lst.next_page_number }}">&gt;</a></li>
			{% else %}
				<li><a href="#0">&gt;</a></li>
			{% endif %}
		</ul>
	<!-- End Pagination -->
	</div>
	{% else %}
	{% endif %}
{% endblock %}
